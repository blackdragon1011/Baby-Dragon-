module.exports.config = {
  name: "birthday",
  version: "2.0.0",
  credits: "Boss Tamim",
  hasPermssion: 0,
  description: "рж╕рзБржирзНржжрж░ рж╕рзНржЯрж╛ржЗрж▓рзЗ ржХрж╛ржЙржХрзЗ ржЬржирзНржоржжрж┐ржирзЗрж░ рж╢рзБржнрзЗржЪрзНржЫрж╛ ржЬрж╛ржирж╛ржмрзЗ ЁЯОВ",
  commandCategory: "fun",
  usages: "birthday @mention",
  cooldowns: 0,
};

module.exports.run = async function({ api, event, args }) {
  const { threadID, mentions } = event;

  // ржпржжрж┐ ржХрж╛ржЙржХрзЗ mention ржирж╛ ржХрж░рзЗ
  if (Object.keys(mentions).length === 0) {
    return api.sendMessage("тЭМ ржжрзЯрж╛ ржХрж░рзЗ ржпрж╛ржХрзЗ Birthday Wish ржХрж░рждрзЗ ржЪрж╛ржи рждрж╛ржХрзЗ @mention ржХрж░рзБржиред", threadID);
  }

  // Mention ржХрж░рж╛ ржЗржЙржЬрж╛рж░ ржмрзЗрж░ ржХрж░рж╛
  const mentionID = Object.keys(mentions)[0];
  const mentionName = mentions[mentionID].replace("@", "");

  // ржмрзЬ рж╕рзБржирзНржжрж░ Birthday Wish ржорзЗрж╕рзЗржЬ
  const wishMessage = `
ЁЯМ╕тЬитФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтЬиЁЯМ╕
  
ЁЯОЙЁЯОВ рж╢рзБржн ржЬржирзНржоржжрж┐ржи ${mentionName}! ЁЯе│ЁЯТЦ  

ЁЯМ╣ ржПржЗ ржмрж┐рж╢рзЗрж╖ ржжрж┐ржирзЗ рждрзЛржорж╛рж░ ржЬрзАржмржирзЗ ржЖрж╕рзБржХ ржЕрж╕рзАржо ржЖржиржирзНржж, ржнрж╛рж▓рзЛржмрж╛рж╕рж╛ ржЖрж░ рж╣рж╛рж╕рж┐ред  
ЁЯМЯ рждрзЛржорж╛рж░ ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзНржмржкрзНржи рж╣рзЛржХ рж░ржЩрж┐ржи ржмрж╛рж╕рзНрждржмрждрж╛, ржЖрж░ ржЬрзАржмржи рж╣рзЛржХ рж╕рзБржЦрзЗ ржнрж░рж╛ред  
ЁЯТЭ рждрзБржорж┐ ржерзЗржХрзЛ рж╕ржмрж╕ржорзЯ рж╕рзБрж╕рзНрже, рж╕рзБржирзНржжрж░ ржЖрж░ рж╣рж╛рж╕рж┐ржЦрзБрж╢рж┐ред  

ЁЯОБ ржЖрж▓рзНрж▓рж╛рж╣ рждрзЛржорж╛рж░ ржЬрзАржмржиржХрзЗ ржХрж░рзБржХ рж╢рж╛ржирзНрждрж┐, ржнрж╛рж▓рзЛржмрж╛рж╕рж╛ ржЖрж░ рж╕рж╛ржлрж▓рзНржпрзЗ ржнрж░ржкрзБрж░ред  
ЁЯМИ рждрзЛржорж╛рж░ ржкрзНрж░рждрж┐ржЯрж┐ ржорзБрж╣рзВрж░рзНржд рж╣рзЛржХ ржЖржиржирзНржжржорзЯ, ржкрзНрж░рждрж┐ржЯрж┐ ржжрж┐ржи рж╣рзЛржХ ржЖрж╢рзАрж░рзНржмрж╛ржжржкрзБрж╖рзНржЯред  

ЁЯеВтЬи ржЬрзАржмржирзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржкржерзЗ ржерж╛ржХрзБржХ рж╢рзБржзрзБ ржЦрзБрж╢рж┐ ржЖрж░ ржнрж╛рж▓рзЛржмрж╛рж╕рж╛рж░ ржЖрж▓рзЛред  
рждрзБржорж┐ ржЕржирзЗржХ ржЕржирзЗржХ ржмрзЬ рж╣ржУ, рж╕ржлрж▓ рж╣ржУ ржЖрж░ рж╕ржмрж╕ржорзЯ рж╣рж╛рж╕рждрзЗ ржерж╛ржХрзЛ ЁЯТлЁЯТЦ  

ЁЯМ╕тЬитФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтЬиЁЯМ╕
`;

  // Send message with proper mention
  api.sendMessage({
    body: wishMessage,
    mentions: [{
      tag: mentionName,
      id: mentionID
    }]
  }, threadID);
};
  
